import Mathlib

/--
Let \( A \) be a local Noetherian ring, \( I \subset A \) an ideal. Show that
\( I \) is generated by a regular sequence if and only if \( I/I^2 \) is free over \( A/I \) and
\( \operatorname{pd}_A I < \infty \).
-/
theorem generated_by_regular_sequence_iff (R : Type) [CommRing R] [IsLocalRing R]
    [IsNoetherianRing R] (I : Ideal R) (netop : I ≠ ⊤) :
    ∃ (rs : List R), (RingTheory.Sequence.IsRegular R rs) ∧ Ideal.ofList rs = I ↔
    Module.Free (R ⧸ I) I.Cotangent ∧
    (∃ n, CategoryTheory.HasProjectiveDimensionLE (ModuleCat.of R I) n) := by
  sorry
