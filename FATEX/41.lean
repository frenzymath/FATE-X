import Mathlib

/--
The multiplicative subset generated by elements
not in a given family of ideals.
-/
def compl_all {α R : Type} [CommRing R] (I : α → Ideal R) : Submonoid R :=
  Submonoid.closure (⋃ (i : α), (I i : Set R))ᶜ

/--
The ideal generated by a set of single
variables in a multivariate polynomial ring.
-/
def ideal_x {α : Type} (R : Type) [CommRing R] (J : Set α) : Ideal (MvPolynomial α R) :=
  Ideal.span ((MvPolynomial.X)'' J)

/--
Let \( A := k[X_1, X_2, \dots] \).
Set \[\mathfrak{p}_i := (X_{m_i+1}, \dots, X_{m_{i+1}})\] and
\( S := A - \bigcup_{i \geq 1} \mathfrak{p}_i \).
This is the ring  \( S^{-1}A \).
-/
abbrev SInvA (k : Type) [Field k] (m : ℕ → ℕ) : Type := (Localization (compl_all fun (n : ℕ) ↦ ideal_x k (Set.Ioc (m n) (m (n + 1)))))

/--
Let \( k \) be a field, \( A := k[X_1, X_2, \dots] \) a polynomial ring, \( m_1 < m_2 < \cdots \) positive integers
with \( m_{i+1} - m_i > m_i - m_{i-1} \) for \( i > 1 \).
Set \[\mathfrak{p}_i := (X_{m_i+1}, \dots, X_{m_{i+1}})\] and \( S := A - \bigcup_{i \geq 1} \mathfrak{p}_i \).
Show that  \( S^{-1}A \) is noetherian with infinite krull dimension.
-/
theorem isNoetherianRing_and_krullDim_eq_top (k : Type) [Field k] (m : ℕ → ℕ) (h : StrictMono m) (h_diff_mono : StrictMono (fun (i : ℕ) ↦ m (i + 1) - m i)) :
    IsNoetherianRing (SInvA k m) ∧
    ringKrullDim (SInvA k m) = ⊤ := by
  sorry
